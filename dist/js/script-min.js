$(document).ready(function(){function e(){var e=navigator.userAgent.toLowerCase();return e.indexOf("msie")!=-1&&parseInt(e.split("msie")[1])}$(".order-info").sticky({topSpacing:140});var t=function(){$(window).width()>768&&$(".basket-container").slick("reinit"),$(window).width()<768&&$(".order-info").unstick()};$(window).resize(function(){t()}),t();var a=$("#mobile-menu").mmenu({navbar:{title:"Главное меню",content:["searchfield"]},extensions:["effect-listitems-slide","fullscreen"],offCanvas:{position:"left",zposition:"front"}});if(a.data("mmenu")){var o=a.data("mmenu");o.bind("opening",function(){$(".header-mobile-togle").toggleClass("header-mobile-togle--open")}),o.bind("closing",function(){$(".header-mobile-togle").toggleClass("header-mobile-togle--open")}),$(".modal-get").click(function(){o.close()})}$(".filter-ingr__el").click(function(){$(this).toggleClass("filter-ingr__el--active")}),$(".filter-footer__reset").click(function(){$(".filter-ingr__el").removeClass("filter-ingr__el--active"),$(".check-el .sytle-input").prop("checked",!1)}),$(".filter-title__setting").click(function(){$(this).toggleClass("filter-title__setting--active"),$(".filter").slideToggle()}),$(".block-sale__slider").owlCarousel({items:1,autoHeight:!0,dots:!0,autoplay:!0,singleItem:!0,nav:!1,loop:!0}),$(".incr__minus").click(function(){var e=$(this).parent().find(".incr__val span"),t=parseInt(e.html())-1;t=t<1?0:t,e.html(t)}),$(".incr__plus").click(function(){var e=$(this).parent().find(".incr__val span"),t=parseInt(e.html())+1;t=t>100?100:t,e.html(t)}),$(".header-menu").click(function(e){$(".basket-wrap").removeClass("bounce-show"),$(".header-cart").removeClass("header-cart--open"),$(".header-menu-sub-wrap").toggleClass("bounce-show"),$(".header-menu").toggleClass("header-menu--open"),e.stopPropagation()}),$(".header-menu-sub-wrap").on("click",function(e){e.stopPropagation()}),$(document).on("click",function(){$(".header-menu").removeClass("header-menu--open"),$(".header-menu-sub-wrap").removeClass("bounce-show")}),$(".header-cart").click(function(e){$(".header-menu-sub-wrap").removeClass("bounce-show"),$(".header-menu").removeClass("header-menu--open"),$(window).width()<769&&$("body").toggleClass("modal-open"),$(".basket-wrap").toggleClass("bounce-show"),$(".header-cart").toggleClass("header-cart--open"),e.stopPropagation()}),$(".basket-wrap").on("click",function(e){e.stopPropagation()}),$(document).on("click",function(){$(".header-cart").removeClass("header-cart--open"),$(".basket-wrap").removeClass("bounce-show"),$("body").removeClass("modal-open")});var i=function(){$(".basket-container").slick("reinit"),$(".basket__el").length||$(".header-cart").click(),$(".basket__el").length<3?$(".slick-arrow").hide():$(".slick-arrow").show()};$(".basket__delete").click(function(){$(this).closest(".basket__el").remove(),i()});var s;$(".basket__el .incr__nav").click(function(){s=1*$(this).closest(".incr").find(".incr__val span").html(),0==s&&($(this).closest(".basket__el").remove(),i())});var n=250;$(window).scroll(function(){var e=$(this).scrollTop();e>=n?$(".header-main-wrap").addClass("shrink"):$(".header-main-wrap").removeClass("shrink")}),$(".product-get").click(function(){$(this).closest(".product-footer").find(".product-get").hide(),$(this).closest(".product-footer").find(".product-add").show(),$(this).closest(".product-el").find(".product-front").hide(),$(this).closest(".product-el").find(".product-back").show()}),$(".product-add").click(function(){$(this).closest(".product-footer").find(".product-add").hide(),$(this).closest(".product-footer").toggleClass("product-footer-numb")}),$(".product-size__el").click(function(){$(this).closest(".product-size").find(".product-size__el").removeClass("product-size__el--active"),$(this).addClass("product-size__el--active")}),$(".product-type__el").click(function(){var e=$(this).data("size");$(this).closest(".product-info").find(".product-size-wrap").each(function(){$(this).hide(),$(this).data("size")==e&&$(this).show()}),$(this).closest(".product-info").find(".product-type__el").removeClass("product-type--active"),$(this).addClass("product-type--active"),$(this).hasClass("product-fat")?$(this).closest(".product-info").find(".product-type-condition-el").css("left","50%"):$(this).closest(".product-info").find(".product-type-condition-el").css("left","0%")});var c;$(".product-incr .incr__nav").click(function(){c=1*$(this).closest(".incr").find(".incr__val span").html(),0==c&&($(this).closest(".product-footer").find(".product-get").show(),$(this).closest(".product-el").find(".product-back").hide(),$(this).closest(".product-el").find(".product-front").show(),$(this).closest(".product-footer").toggleClass("product-footer-numb"),$(this).closest(".incr").find(".incr__val span").html(1))}),$(".card-size__el").click(function(){$(this).closest(".card-size").find(".card-size__el").removeClass("card-size__el--active"),$(this).addClass("card-size__el--active")}),$(".card-type__el").click(function(){var e=$(this).data("size");$(this).closest(".card-type").find(".product-size-wrap").each(function(){$(this).hide(),$(this).data("size")==e&&$(this).show()}),$(".card-type__el").removeClass("card-type__el--active"),$(this).addClass("card-type__el--active")}),$(".foundation__el").click(function(){$(this).hasClass("foundation__el--default")||$(this).toggleClass("foundation__el--active")}),$(".part-ingr-el").click(function(){$(".part-ingr-el").removeClass("part-ingr-el--active"),$(this).addClass("part-ingr-el--active")}),$(".part-weight-el").click(function(){var e=$(this).data("size");$(".product-size-wrap").each(function(){$(this).hide(),$(this).data("size")==e&&$(this).show()}),$(".part-weight-el").removeClass("part-weight-el--active"),$(this).addClass("part-weight-el--active")}),$(".souse__el").click(function(){$(".souse__el").removeClass("souse__el--active"),$(this).addClass("souse__el--active")});var l=function(){$(".basket-container").not(".slick-initialized").slick({slidesToShow:2,autoplay:!1,speed:500,vertical:!0,arrows:!0,prevArrow:$(".header__sub-arrow-up"),nextArrow:$(".header__sub-arrow-down"),verticalSwiping:!0,infinite:!1,responsive:[{breakpoint:768,settings:"unslick"}]})};l();var r=function(){$(".modal-layer").removeClass("modal-layer-show"),$("body").removeClass("modal-fix")};$(".modal-close , .modal-filter").click(function(){r()}),$(".modal-get").add(".show-modal").click(function(){$(".modal-layer").hasClass("modal-layer-show")||$(".modal-layer").addClass("modal-layer-show"),$("body").hasClass("modal-fix")||$("body").addClass("modal-fix");var e=$(this).data("modal");$(".modal").each(function(){$(this).data("modal")===e?$(this).addClass("modal__show"):$(this).removeClass("modal__show")})}),$(".toggle-close-modal").click(function(){r()}),$(".input-animate").each(function(){var e=$(this),t="<span class='input-placeholder-val'>"+e.data("input")+"</span>";e.parent().append(t)}),$(".input-animate").on("input",function(e){$(e.currentTarget).attr("data-empty",!e.currentTarget.value)}),$(".input-placeholder-val").click(function(){$(this).parent().find(".input-animate").focus()}),$(".toggle-cart-animate").add(".incr__nav").click(function(){$(".header-cart").addClass("animate-basket"),setTimeout(function(){$(".header-cart").removeClass("animate-basket")},400)}),$(".title-row-back").click(function(e){e.preventDefault(),history.back(1)}),e()<10&&e()&&($("body").empty(),$("body").prepend('<div class="old-browser"><div class="old-browser-text"> Браузер не поддерживается =(</div></div>')),svg4everybody(),localStorage.clear(),sessionStorage.clear(),$(window).unload(function(){localStorage.clear()})}),function(e,t){"use strict";var a="img/pack.html",o=1;if(!t.createElementNS||!t.createElementNS("http://www.w3.org/2000/svg","svg").createSVGRect)return!0;var i,s,n="localStorage"in e&&null!==e.localStorage,c=function(){t.body.insertAdjacentHTML("afterbegin",s)},l=function(){t.body?c():t.addEventListener("DOMContentLoaded",c)};if(n&&localStorage.getItem("inlineSVGrev")==o&&(s=localStorage.getItem("inlineSVGdata")))return l(),!0;try{i=new XMLHttpRequest,i.open("GET",a,!0),i.onload=function(){i.status>=200&&i.status<400&&(s=i.responseText,l(),n&&(localStorage.setItem("inlineSVGdata",s),localStorage.setItem("inlineSVGrev",o)))},i.send()}catch(r){}}(window,document);